<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr" class="h-feed hfeed">

<head>
  <title class="p-name">Stream - Rongbin&#39;s Blog</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="description"
    content="2024 # Note: Asus Zenbook Duo is crazy. 12:28 (&#43;08) Thu 11 January 2024 Note: Potis.ai wants to help recruiters test candidates&rsquo; real skills. So more text-based case prompts and longer answers, less SHL and VI screening probably. 魔法打败魔法, use another gen-AI to generate AI-less contents and again feed it back to a third gen-AI. How much nonsense content are we gonna have in this foreseeable future? 10:41 (&#43;08) Thu 11 January 2024 In reply to: https://fanrongbin. ">
<meta name="author p-author" content="Rongbin FAN" href="https://fanrongbin.com">

<meta property="og:title" content="Stream - Rongbin&#39;s Blog" />
<meta property="og:description" content="2024 # Note: Asus Zenbook Duo is crazy. 12:28 (&#43;08) Thu 11 January 2024 Note: Potis.ai wants to help recruiters test candidates&rsquo; real skills. So more text-based case prompts and longer answers, less SHL and VI screening probably. 魔法打败魔法, use another gen-AI to generate AI-less contents and again feed it back to a third gen-AI. How much nonsense content are we gonna have in this foreseeable future? 10:41 (&#43;08) Thu 11 January 2024 In reply to: https://fanrongbin. " />
<meta property="og:url" content="https://fanrongbin.com/stream/" />
<meta property="og:image" content="https://fanrongbin.com/apple-touch-icon.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://fanrongbin.com/apple-touch-icon.png" />
<meta name="twitter:title" content="Stream - Rongbin&#39;s Blog" />
<meta name="twitter:description" content="2024 # Note: Asus Zenbook Duo is crazy. 12:28 (&#43;08) Thu 11 January 2024 Note: Potis.ai wants to help recruiters test candidates&rsquo; real skills. So more text-based case prompts and longer answers, less SHL and VI screening probably. 魔法打败魔法, use another gen-AI to generate AI-less contents and again feed it back to a third gen-AI. How much nonsense content are we gonna have in this foreseeable future? 10:41 (&#43;08) Thu 11 January 2024 In reply to: https://fanrongbin. " />

<link rel="canonical" href="https://fanrongbin.com/stream/" />






      <link rel="stylesheet" href="/css/main.min.b41ba883c489e7fca9d110fffd6d38dd531362e54b69de96e3c91b832ce87374.css" integrity="sha256-tBuog8SJ5/yp0RD//W043VMTYuVLad6W48kbgyzoc3Q=" crossorigin="anonymous">

<link rel="stylesheet" href="/han.min.css" type="text/css">

      <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>





<link rel="webmention" href="https://webmention.io/fanrongbin.com/webmention" />

<script data-goatcounter="https://ron.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>

<body class="han-init-context">

  <section class="navbar">
    <span class="header-name">
    <a href="/" class="header-link h-card p-name p-author u-url u-uid">Rongbin FAN</a>
     / <a href="/posts" class="header-link">Blog</a>
    <br>
    <a href="/links" class="header-link header-guestbook">◩ Guestbook</a>
    <a href="/stream" class="header-link header-guestbook">ϟ Stream</a>
</span>


  </section>

  <section class="article-entry">
      

<section class="content-header">

  <div class="top-scroll-bar"></div>
<div class="addn visible">
<a onclick="showHypo()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="show-hypo" class="header-button no-select">Hypothes.is</div></a>
<a onclick="toggleTOC()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="contents-fixed" class="header-button no-select">Contents</div></a>
</div>
<div id="contents-toc" class="no-select">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#2024">2024</a></li>
    <li><a href="#2022">2022</a></li>
  </ul>
</nav>
</div>

  <div id="single-header">
    <h1 class="p-name content-h1">Stream</h1><p class="subtitle">Fragmented thoughts and ideas.</p>
    <a rel="author" class="p-name h-card" href="https://fanrongbin.com" style="display:none;">Rongbin Fan</a>
  </div>

</section>

<style>
  div.color {
    background: linear-gradient(var(--textcolor) 0,transparent 25%);
    opacity: .5;
  }
</style>


      <div class="color"></div>
      
      
      <main>
      
      

<h2 id="2024">
2024
<a href="#2024" class="heading-anchor">#</a>
</h2>




















<div class="stream h-entry" id="2024-01-11-zenbook-duo">


Note: 












<div class="stream-inner e-content">
    <a href="https://asus.click/zenbookduo_Dave">Asus Zenbook Duo</a> is <a href="https://youtu.be/K6Cr73w8CJE?si=MNsVfzge2bKBokcz">crazy</a>.
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-11T12:28:04&#43;08:00" title="2024-01-11T12:28:04&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-11-zenbook-duo" onclick="event.preventDefault(); location.hash='2024-01-11-zenbook-duo';" class="stream-time u-url">12:28 (&#43;08) Thu 11 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-11-potis-ai">


Note: 












<div class="stream-inner e-content">
    <a href="https://www.potis.ai/?ref=fanrongbin.com">Potis.ai</a> wants to help recruiters test candidates&rsquo; real skills. So more text-based case prompts and longer answers, less SHL and VI screening probably. 魔法打败魔法, use another gen-AI to generate AI-less contents and again feed it back to a third gen-AI. How much nonsense content are we gonna have in this foreseeable future?
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-11T10:41:37&#43;08:00" title="2024-01-11T10:41:37&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-11-potis-ai" onclick="event.preventDefault(); location.hash='2024-01-11-potis-ai';" class="stream-time u-url">10:41 (&#43;08) Thu 11 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-08-send-wm-to-guestbook">




    In reply to: <a class="u-in-reply-to stream-external" href="https://fanrongbin.com/links">https://fanrongbin.com/links</a>










<div class="stream-inner e-content">
    尝试往Guestbook发出webmention（折腾就到此结束吧）
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-08T22:05:21&#43;08:00" title="2024-01-08T22:05:21&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-08-send-wm-to-guestbook" onclick="event.preventDefault(); location.hash='2024-01-08-send-wm-to-guestbook';" class="stream-time u-url">22:05 (&#43;08) Mon 08 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-08-reply-test">




    In reply to: <a class="u-in-reply-to stream-external" href="https://fanrongbin.com/stream#2024-01-08-add-last-fm-scrobble">https://fanrongbin.com/stream#2024-01-08-add-last-fm-scrobble</a>










<div class="stream-inner e-content">
    如果在这里reply的话……以及测试超过1条response的样式。
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-08T18:57:24&#43;08:00" title="2024-01-08T18:57:24&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-08-reply-test" onclick="event.preventDefault(); location.hash='2024-01-08-reply-test';" class="stream-time u-url">18:57 (&#43;08) Mon 08 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-08-add-last-fm-scrobble">


Note: 












<div class="stream-inner e-content">
    给<a href="https://fanrongbin.com/stream/">Stream页面</a>加上了Last.fm Scrobble。
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-08T16:05:07&#43;08:00" title="2024-01-08T16:05:07&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-08-add-last-fm-scrobble" onclick="event.preventDefault(); location.hash='2024-01-08-add-last-fm-scrobble';" class="stream-time u-url">16:05 (&#43;08) Mon 08 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-08-reply-with-wm">




    In reply to: <a class="u-in-reply-to stream-external" href="https://fanrongbin.com/hugo-webmention-bridgy-mastodon">https://fanrongbin.com/hugo-webmention-bridgy-mastodon</a>










<div class="stream-inner e-content">
    在手机端Mastodon App搜索url，可能会需要一点时间，但整体还可以，在没法用搜索API或其他方式直接在评论者的server调用的情况下，只能这样苟着了哈哈哈。
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-08T09:29:31&#43;08:00" title="2024-01-08T09:29:31&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-08-reply-with-wm" onclick="event.preventDefault(); location.hash='2024-01-08-reply-with-wm';" class="stream-time u-url">09:29 (&#43;08) Mon 08 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-07-unnecessarily-busy-weekend">


Note: 












<div class="stream-inner e-content">
    在webmention上忙了一个周末，现在好像终于弄得差不多了。明天开始复习下一门考试了。
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-07T22:06:38&#43;08:00" title="2024-01-07T22:06:38&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-07-unnecessarily-busy-weekend" onclick="event.preventDefault(); location.hash='2024-01-07-unnecessarily-busy-weekend';" class="stream-time u-url">22:06 (&#43;08) Sun 07 January 2024</a>
        
    </time>
    
</p>



</div>




















<div class="stream h-entry" id="2024-01-07-test">


Note: 












<div class="stream-inner e-content">
    好像差不多调试好了 stream 页面自动发出 webmention。
</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2024-01-07T16:49:40&#43;08:00" title="2024-01-07T16:49:40&#43;08:00">
        
                <a href="https://fanrongbin.com/stream#2024-01-07-test" onclick="event.preventDefault(); location.hash='2024-01-07-test';" class="stream-time u-url">16:49 (&#43;08) Sun 07 January 2024</a>
        
    </time>
    
</p>



</div>
<h2 id="2022">
2022
<a href="#2022" class="heading-anchor">#</a>
</h2>




















<div class="stream h-entry" id="2022-04-23-serenade-sunwoojunga">













<div class="stream-inner e-content">

    
    
    
        <p class="stream-music">Album: <em>Serenade</em> by Sunwoojunga <span class="stream-music-rating">(4.0)</span></p>
    




    <p>Can you find another all-rounder like Sunwoojunga? A stunning full-length 정규 album shows off her ability from every perspective. &ldquo;Interview&rdquo; sets up a cosy but also mixed mood. &ldquo;Run With Me&rdquo; soaks everyone in the Korean sentiment with powerful, empathetic strings and vocals.</p>
<p>&ldquo;Serenade&rdquo; tells stories wittily and &ldquo;Multi Player&rdquo; joins smoothly, starting a much loosen atmosphere which continues to the end. To some extent, the appealing of consistency inevitably leads to similarity until &ldquo;Superhero&rdquo; cracks everything open and gives space for lights to come in. The second half of the album is much more dynamic, such as the quirky and experimental &ldquo;My Birthday Song&rdquo; as a great example of using synthesisers.</p>
<p>Listeners could sharply grasp the emotions Sunwoojunga would like to convey through her unique and solid vocal skills. Get astonished by &ldquo;Run With Me&rdquo; then step by step, track by track, enjoy the singing freedom with her and hold a parade in &ldquo;Life&rdquo; and &ldquo;Invisible Treasure&rdquo;.</p>
<p>&ldquo;To Zero&rdquo; resets everything and &ldquo;Classic&rdquo; keeps the pop music form but stylish in every way, signing her name proudly on the album with this brutal end.</p>
<p>Lyrics are so important in this album since Sunwoojunga often starts her creation by writing first. Though for non-Korean speakers it may be difficult to understand the delicate meanings in lyrics, it is also quite interesting to first speculate everything only based on rhythms, melodies and scattered English, and then to check the translation to see whether new ideas were generated. Just try to find some time and listen to it non-stop as if you were wandering around in the amusement park with the artist.</p>

</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2022-04-23T00:00:00&#43;00:00" title="2022-04-23T00:00:00&#43;00:00">
        
            
                <a href="https://fanrongbin.com/stream#2022-04-23-serenade-sunwoojunga" onclick="event.preventDefault(); location.hash='2022-04-23-serenade-sunwoojunga';" class="stream-time u-url">Sat 23 April 2022</a>
            
            
    </time>
    <span class="stream-music-search"><a href="https://open.spotify.com/search/Serenade%20Sunwoojunga" target="_blank">Spotify</a>, <a href="https://www.last.fm/search?q=Serenade+Sunwoojunga" target="_blank">Last.fm</a>, <a href="https://music.youtube.com/search?q=Serenade+Sunwoojunga" target="_blank">YouTube Music</a>, <a href="https://music.apple.com/cn/search?term=Serenade%20Sunwoojunga" target="_blank">Apple Music (CN)</a></span>
</p>



</div>




















<div class="stream h-entry" id="2022-04-23-ambient-1-brian-eno">













<div class="stream-inner e-content">

    
    
    
        <p class="stream-music">Album: <em>Ambient 1: Music for Airports</em> by Brian Eno <span class="stream-music-rating">(5.0)</span></p>
    




    <p>Ahead of its era, &ldquo;Ambient 1: Music for Airports&rdquo; does far more than staying in the background of a futuristic airport but for everyone to attach emotions and make the most of it. &ldquo;1/1&rdquo; is filled with zen fermatas, carrying notes like waterdrops, doing everything but also nothing to empty your mind. Repetitions might be dreary or tedious for some people, but there are differences in the background to be detected and understood if trying to immerse oneself in. &ldquo;1/1&rdquo; is also the most suitable and functional one among the four tracks.</p>
<p>&ldquo;2/1&rdquo; unfolds with generous and expansive vocals. Sunlight, but rather intensified, tranquil and remote. It waits and remains, saves time for you to walk into it, to take a sunbath, on your own initiative. Then &ldquo;1/2&rdquo; comes in as the stopover to see the piano and vocals blending with each other in detail.</p>
<p>You may get lost in the ambitious synthesiser sounds of &ldquo;2/2&rdquo;. It scales up quite suddenly. Even though the former track lasts more than 10 minutes, not much connecting and digesting job has been done. However, concerns could be eased when it plays to the middle, especially for listeners willing to swing with the inner flow, grasping the opportunities to discover layers and depths.</p>
<p>The importance of this album is effortlessly being told by &ldquo;1/1&rdquo; standing alone, while &ldquo;1/2&rdquo; tells stories of vocal use, frequency and the blanks in between. Both of them are easy to adapt and drift away. &ldquo;2/1&rdquo; and &ldquo;2/2&rdquo; may be less graspable generally but still have their narrative.</p>

</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2022-04-23T00:00:00&#43;00:00" title="2022-04-23T00:00:00&#43;00:00">
        
            
                <a href="https://fanrongbin.com/stream#2022-04-23-ambient-1-brian-eno" onclick="event.preventDefault(); location.hash='2022-04-23-ambient-1-brian-eno';" class="stream-time u-url">Sat 23 April 2022</a>
            
            
    </time>
    <span class="stream-music-search"><a href="https://open.spotify.com/search/Ambient%201:%20Music%20for%20Airports%20Brian%20Eno" target="_blank">Spotify</a>, <a href="https://www.last.fm/search?q=Ambient%201%3a%20Music%20for%20Airports+Brian%20Eno" target="_blank">Last.fm</a>, <a href="https://music.youtube.com/search?q=Ambient%201%3a%20Music%20for%20Airports+Brian%20Eno" target="_blank">YouTube Music</a>, <a href="https://music.apple.com/cn/search?term=Ambient%201%3a%20Music%20for%20Airports%20Brian%20Eno" target="_blank">Apple Music (CN)</a></span>
</p>



</div>




















<div class="stream h-entry" id="2022-04-23-long-blue-light-leif-vollebekk">













<div class="stream-inner e-content">

    
    
    
        <p class="stream-music">Album: <em>Long Blue Light</em> by Leif Vollebekk <span class="stream-music-rating">(3.5)</span></p>
    




    <p>&ldquo;Long Blue Light&rdquo; could be in one of your relax playlists, just to sit back and unbend yourself. Great at conveying solitude and casualness with light lyricsim and the end falling apart. It could also be in your road playlist since it is easy to sing along.</p>
<p>&ldquo;29 #Strafford APTS&rdquo;, a Bon Iver cover, is much like a statement or a memoir of the artist&rsquo;s teen age. Instruments are beautifully knited. It is much subtle and melodic with refurbished overdubs if comparison between cover and the original is necessary. But to me it is more like a different flank of a hill, this one tracing back the history but looking forward to a mist-lifted future.</p>

</div>
<a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy" style="display:none;"></a>


<p class="stream-meta">
    <span class="p-author h-card">
        <a href="https://fanrongbin.com" class="u-url" style="display:none;">
            <img src="https://fanrongbin.com/apple-touch-icon.png" class="u-photo" alt="Rongbin FAN" style="display:none;">
        </a>
    </span>
    
    <time class="dt-published" datetime="2022-04-23T00:00:00&#43;00:00" title="2022-04-23T00:00:00&#43;00:00">
        
            
                <a href="https://fanrongbin.com/stream#2022-04-23-long-blue-light-leif-vollebekk" onclick="event.preventDefault(); location.hash='2022-04-23-long-blue-light-leif-vollebekk';" class="stream-time u-url">Sat 23 April 2022</a>
            
            
    </time>
    <span class="stream-music-search"><a href="https://open.spotify.com/search/Long%20Blue%20Light%20Leif%20Vollebekk" target="_blank">Spotify</a>, <a href="https://www.last.fm/search?q=Long%20Blue%20Light+Leif%20Vollebekk" target="_blank">Last.fm</a>, <a href="https://music.youtube.com/search?q=Long%20Blue%20Light+Leif%20Vollebekk" target="_blank">YouTube Music</a>, <a href="https://music.apple.com/cn/search?term=Long%20Blue%20Light%20Leif%20Vollebekk" target="_blank">Apple Music (CN)</a></span>
</p>



</div>
<hr>


<!-- webmention response -->
<script defer>
// 1. 异步请求API
async function fetchWebmentions() {
  const response = await fetch('https://webmention.io/api/mentions.jf2?domain=fanrongbin.com&token=W6lnMe3Kns5Xc2X0ywqFQg');
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }
  return await response.json();
}

// 2. 筛选数据
function filterWebmentions(webmentions) {
  const counts = {};
  const filtered = webmentions.children.filter(entry => {
    const target = entry['wm-target'];
    if (target && target.startsWith('https://fanrongbin.com/stream')) {
      counts[target] = (counts[target] || 0) + 1;
      return true;
    }
    return false;
  });
  return { webmentions: filtered, counts };
}

// 3. 显示数据
function displayWebmentions(webmentionsData) {
  const { webmentions, counts } = webmentionsData;
  const hEntries = document.querySelectorAll('.h-entry');

  hEntries.forEach(hEntry => {
    const streamTimeLink = hEntry.querySelector('.stream-time');
    if (!streamTimeLink) return;

    const streamTimeHref = streamTimeLink.getAttribute('href');
    const matchedWebmentions = webmentions.filter(entry => entry['wm-target'] === streamTimeHref);
    const count = counts[streamTimeHref] || 0;
    
    if (matchedWebmentions.length > 0) {
      const fragment = document.createDocumentFragment();
    
      const webmentionsContainer = document.createElement('div');
      webmentionsContainer.classList.add('stream-webmention-container');
      webmentionsContainer.style.display = 'none';
    
      matchedWebmentions.forEach(entry => {
        const webmentionElement = document.createElement('div');
        webmentionElement.classList.add('stream-webmention-inner');
    
        const authorName = entry.author?.name || 'origin';
        const authorElement = document.createElement('div');
        if (entry.author?.url) {
          const authorLink = document.createElement('a');
          authorLink.href = entry.url;
          authorLink.textContent = authorName;
          authorElement.appendChild(authorLink);
        } else {
          authorElement.textContent = authorName;
          authorLink.href = entry.url;
          authorElement.appendChild(authorLink);
        }
        webmentionElement.appendChild(authorElement);
    
        if (entry.content && entry.content.text) {
          const content = document.createElement('p');
          content.textContent = entry.content.text;
          webmentionElement.appendChild(content);
        }
    
        webmentionsContainer.appendChild(webmentionElement);
      });
    
      fragment.appendChild(webmentionsContainer);
    
      const timeElement = hEntry.querySelector('time');
      if (timeElement) {
        const button = document.createElement('span');
        button.innerHTML = '<a class="mention-number" style="border:none;cursor:pointer;">responses</a>';
        button.style.paddingRight = '1ch';
        button.style.fontFamily = 'var(--sans)';
        button.style.fontStyle = 'normal';
    
        button.onclick = () => {
          webmentionsContainer.style.display = webmentionsContainer.style.display === 'none' ? 'block' : 'none';
        };
    
        timeElement.parentNode.insertBefore(button, timeElement);
      }
    
      const streamMeta = hEntry.querySelector('.stream-meta');
      if (streamMeta) {
        streamMeta.parentNode.insertBefore(fragment, streamMeta.nextSibling);
      }
    
      const responsesButton = hEntry.querySelector('.mention-number');
      if (responsesButton) {
        const responseText = count === 1 ? '1 response' : `${count} responses`;
        responsesButton.textContent = responseText;
      }
    }
  });
}

async function main() {
  try {
    const webmentions = await fetchWebmentions();
    const filteredWebmentions = filterWebmentions(webmentions);
    displayWebmentions(filteredWebmentions);
  } catch (error) {
    console.error('Fetching Webmentions failed:', error);
  }
}

main();
</script>

<style>
.stream-webmention-inner {
  margin-inline-start: 4rem;
  font-style: initial;
  font-family: var(--sans);
  border-left: 1px solid;
  padding-left: 1rem;
}
.stream-webmention-inner>p {
  line-height: 1.5;
  padding-top: 0.5rem;
}
.stream.h-entry::before {
    content: "";
    border-top: 1px solid var(--text-color);
    position: relative;
    width: 1.5ch;
    display: block;
    left: -1.5rem;
    top: 0.8rem;
}
</style>



<!-- stream page and widget style -->
<style>
	.navbar, .addn, footer {
		opacity: 0.35 !important;
	}
	.content-header{
		background: unset;
		color: unset;
	}
	div.color {
		background: unset;
	}
	div.addn:hover { opacity: 1 !important; }
  .widget {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: stretch;
    font-size: 90%;
    position: fixed;
    z-index: 500;
    bottom: 5%;
    left: 5%;
    transform: translate(0);
    max-width: 350px;
  }
  .widget.hide {
    opacity: 0;
    transform: translateY(-10px);
  }
  .widget>a{
    border-bottom: unset;
  }
	.lastfm {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    background: greenyellow;
    color: black;
	}
	.lastfm:hover, .follow-mstd:hover, .stream-calendar:hover {
		outline: 5px solid var(--text-color);
	}
  .lastfm-a:hover, .follow-mstd-a:hover, .stream-calendar-a:hover {
    border-bottom: none;
    margin-bottom: 5px;
  }
	.lastfm-cover {
		width: 55px;
		/* border-radius: 8px; */
		margin: 0 10px 0 0;
	}
  .lastfm-name {
    margin: 5px 10px 0 0;
  }
	.lastfm-name-p {
		margin: 0 0 5px 0;
    line-height: 1;
  }
	.widget>a::after {
		content: none;
	}
  .follow-mstd {
    background: #5c00ff;
    color: white;
    text-align: center;
    padding: 1ch;
  }
  .stream-calendar {
    background: var(--text-color);
    color: var(--bgcolor);
    text-align: center;
    padding: 1ch;
  }
  #calendar-box {
    position: fixed;
    top: 10%;
    left: 5%;
    border: 1px solid;
    background: var(--bgcolor);
    padding: 10px;
    display: none;
    text-transform: lowercase;
  }
  #calendar-button {
      text-align: center;
      width: calc(40px*7);
      padding: 10px;
      display: flex;
      justify-content: space-between;
  }
  #calendar {
      display: grid;
      grid-template-columns: repeat(7, 40px);
      text-align: center;
  }
  .day-header {
      text-transform: lowercase;
      font-size: 80%;
      padding:10px;
  }
  .day {
      height: 40px;
      border-radius: 40px;
      padding: 10px;
  }
  .dark-mode-black-text {
      color: black;
  }
  #prevMonth, #nextMonth {
      border: none;
      padding: 0 10px;
  }
  #prevMonth:hover, #nextMonth:hover {
      outline: 5px solid;
      cursor: pointer;
  }
  @keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
  }
</style>




<!-- widget div -->
<div class="widget">
<a class="lastfm-a" href="#track-url"><div class="lastfm">
	<img src="" class="lastfm-cover">
	<div class="lastfm-name">
	<p class="lastfm-name-p"><span class="lastfm-track" style="margin-right:2ch;font-weight:bold;">Track Name</span><span class="lastfm-time" style="opacity:0.6;font-size:90%;font-style:italic;margin-right:2ch;">Time</span></p>
	<p class="lastfm-name-p"><span class="lastfm-album">Album Name</span></p>
	</div>
</div></a>
<a class="follow-mstd-a" id="follow-mstd-button"><div class="follow-mstd">
  Follow on Mastodon
</div></a>
<a class="stream-calendar-a"><div class="stream-calendar">
Stream Heat
</div></a>
</div>



<!-- mstd popup box div -->
<style>
#follow-mstd-box {
  display: none;
  position: fixed;
  top: 50%;
  left: 5%;
  background: var(--bgcolor);
  color: var(--text-color);
  padding: 2ch;
  border: 1px solid var(--text-color);
}
</style>

<div id="follow-mstd-box">
<p style="font-size:85%;">Enter your <em>@username@server_address</em> here.<br>It'll redirect to my profile page on your server.</p>
<form action="https://fed.brid.gy/remote-follow" method="post"><input id="follow-address" name="address" pattern="@[\w.]+@[\w.]+" placeholder="@alice@m.cmx.im" required="required" title="@alice@m.cmx.im" type="text"> <input name="domain" type="hidden" value="fanrongbin.com"> <input name="protocol" type="hidden" value="web"> <input type="submit" value="Go">&nbsp;</form>
</div>



<!-- calendar div -->
<div id="calendar-box">
<div id="calendar-button">
    <a id="nextMonth" alt="i know this looks so weird nextmonth is using the left arrow, but i really dont wanna change my messy js">←</a>
    <span id="currentMonthYear"></span>
    <a id="prevMonth" alt="same as nextmonth lol">→</a>
</div>
<div id="calendar"></div>
</div>



<!-- mstd popup -->
<script defer>
var followButton = document.getElementById('follow-mstd-button');
var followBox = document.getElementById('follow-mstd-box');
var calendarButton = document.querySelector('.stream-calendar-a');
var calendarBox = document.getElementById('calendar-box');

followButton.addEventListener('click', function() {
    toggleDisplay(followBox);
});

calendarButton.addEventListener('click', function() {
    toggleDisplay(calendarBox);
});

document.addEventListener('click', function(event) {
    if (!followBox.contains(event.target) && !followButton.contains(event.target)) {
        followBox.style.display = 'none';
    }
    if (!calendarBox.contains(event.target) && !calendarButton.contains(event.target)) {
        calendarBox.style.display = 'none';
    }
}, true);

function toggleDisplay(element) {
    if (element.style.display === 'block') {
        element.style.display = 'none';
    } else {
        element.style.display = 'block';
    }
}
</script>



<!-- lastfm -->
<script defer>
  document.addEventListener('DOMContentLoaded', function() {
    var apiKey = '474cf699bdce5cf4cf5ec69b1f16dddd';
    var username = 'rongbinf';
    var baseUrl = 'https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=' + username + '&api_key=' + apiKey + '&limit=1&format=json';

    fetch(baseUrl)
      .then(response => response.json())
      .then(data => {
        var track = data.recenttracks.track[0];
        var coverImage = document.querySelector('.lastfm .lastfm-cover');
        if (coverImage) {
          var largeImage = track.image.find(img => img.size === 'large')['#text'];
          coverImage.setAttribute('src', largeImage);
        }
        
        var timeAgoText = '';
        if (track["@attr"] && track["@attr"].nowplaying) {
          timeAgoText = 'Now playing!';
        } else if (track.date) {
          timeAgoText = getTimeAgoText(new Date(parseInt(track.date.uts) * 1000));
        }
    
        var lastfmTime = document.querySelector('.lastfm .lastfm-time');
        if (lastfmTime) {
          lastfmTime.textContent = timeAgoText;
        }
    
        updateTextContent('.lastfm .lastfm-track', track.name);
        updateAttribute('.lastfm-a', 'href', track.url.replace(/\+/g, '%20'));
        updateTextContent('.lastfm .lastfm-album', track.album['#text']);
      })
      .catch(error => console.error('Error fetching last.fm data:', error));
    
    function getTimeAgoText(date) {
      var now = new Date();
      var timeDiff = now.getTime() - date.getTime();
    
      var seconds = Math.floor(timeDiff / 1000);
      var minutes = Math.floor(seconds / 60);
      var hours = Math.floor(minutes / 60);
      var days = Math.floor(hours / 24);
    
      if (days > 0) return days === 1 ? '1 day ago' : days + ' days ago';
      if (hours > 0) return hours === 1 ? '1 hour ago' : hours + ' hours ago';
      if (minutes > 0) return minutes === 1 ? '1 minute ago' : minutes + ' minutes ago';
      return 'Less than a minute ago';
    }
    
    function updateTextContent(selector, text) {
      var element = document.querySelector(selector);
      if (element) element.textContent = text;
    }
    
    function updateAttribute(selector, attribute, value) {
      var element = document.querySelector(selector);
      if (element) element.setAttribute(attribute, value);
    }
  });
</script>



<!-- widget scroll hide -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    var lastScrollTop = 0;
    var widget = document.querySelector('.widget');

    window.addEventListener('scroll', function() {
        var currentScroll = window.pageYOffset || document.documentElement.scrollTop;
    
        if (currentScroll > lastScrollTop) {
            widget.classList.add('hide');
        } else {
            widget.classList.remove('hide');
        }
    
        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
    }, false);
});
</script>



<!-- score to star -->
<style>
@font-face {
  font-family: "BabelStone Shapes";
  src: url(/font/BabelStoneShapes.woff2) format('woff2');
  unicode-range: U+2605, U+2BE8, U+2BEA;
}
.stream-music-rating {
  font-family: "BabelStone Shapes", var(--sans);
  /* margin-left: 1ch; */
  position: relative;
  top: -1px;
  font-size: 90%;
}
</style>
<script defer>
function updateRatingsToStars() {
    var ratingElements = document.getElementsByClassName('stream-music-rating');

    for (var element of ratingElements) {
        var ratingText = element.innerText; // 如："(3.5)"
        var rating = parseFloat(ratingText.match(/\d+(\.\d+)?/)[0]);

        var stars = '';

        for (var i = 0; i < Math.floor(rating); i++) {
            stars += '★';
        }

        if (rating % 1 >= 0.5) {
            stars += '⯪';
        }

        element.innerHTML = stars;
    }
}

// 调用函数以更新显示
updateRatingsToStars();
</script>



<!-- calendar -->
<script defer>
const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
let currentYear;
let currentMonth;

const calendar = document.getElementById('calendar');
const currentMonthYear = document.getElementById('currentMonthYear');
const prevMonthButton = document.getElementById('prevMonth');
const nextMonthButton = document.getElementById('nextMonth');
const publishedItems = document.querySelectorAll('.dt-published');

const monthsWithData = new Set([...publishedItems].map(item => {
    const datetime = item.getAttribute('datetime');
    const date = new Date(datetime);
    return `${date.getFullYear()}-${date.getMonth()}`;
}));

let [year, month] = [...monthsWithData][0].split('-').map(Number);
currentYear = year;
currentMonth = month;

const loadCalendarDays = () => {
    calendar.innerHTML = '';
    const weekDays = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
    weekDays.forEach(dayName => {
        let dayHeader = document.createElement("div");
        dayHeader.className = "day-header";
        dayHeader.innerText = dayName;
        calendar.appendChild(dayHeader);
    });

    let firstDay = (new Date(currentYear, currentMonth)).getDay();
    firstDay = firstDay === 0 ? 6 : firstDay - 1; // Adjust for Monday start
    let daysInMonth = 32 - new Date(currentYear, currentMonth, 32).getDate();

    for (let i = 0; i < firstDay; i++) {
        let cell = document.createElement("div");
        calendar.appendChild(cell);
    }

    for (let i = 1; i <= daysInMonth; i++) {
        let cell = document.createElement("div");
        cell.className = "day";
        cell.innerText = i;
        cell.setAttribute('data-date', `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`);
        calendar.appendChild(cell);
    }
};

const updateMonthButtons = () => {
    const monthArray = [...monthsWithData];
    const currentIndex = monthArray.indexOf(`${currentYear}-${currentMonth}`);

    prevMonthButton.style.display = currentIndex > 0 ? 'block' : 'none';
    nextMonthButton.style.display = currentIndex < monthArray.length - 1 ? 'block' : 'none';
};

const loadCalendar = () => {
    currentMonthYear.innerText = `${monthNames[currentMonth]} ${currentYear}`;
    loadCalendarDays();
    updateCalendarColors();
    updateMonthButtons();
};

prevMonthButton.onclick = () => {
    const monthArray = [...monthsWithData];
    const currentIndex = monthArray.indexOf(`${currentYear}-${currentMonth}`);

    if (currentIndex > 0) {
        const [prevYear, prevMonth] = monthArray[currentIndex - 1].split('-').map(Number);
        currentYear = prevYear;
        currentMonth = prevMonth;
        loadCalendar();
        updateMonthButtons();
    }
};

nextMonthButton.onclick = () => {
    const monthArray = [...monthsWithData];
    const currentIndex = monthArray.indexOf(`${currentYear}-${currentMonth}`);

    if (currentIndex < monthArray.length - 1) {
        const [nextYear, nextMonth] = monthArray[currentIndex + 1].split('-').map(Number);
        currentYear = nextYear;
        currentMonth = nextMonth;
        loadCalendar();
        updateMonthButtons();
    }
};

const updateCalendarColors = () => {
    const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const dateCounts = {};

    publishedItems.forEach(item => {
        const datetime = item.getAttribute('datetime');
        const date = datetime.split('T')[0];

        if (dateCounts[date]) {
            dateCounts[date]++;
        } else {
            dateCounts[date] = 1;
        }
    });

    for (const datetime in dateCounts) {
        const count = dateCounts[datetime];
        const date = datetime.split('T')[0];
        const [year, month, day] = date.split('-').map(Number);
        const calendarDay = document.querySelector(`.day[data-date="${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}"]`);

        if (calendarDay) {
            const opacity = Math.min(1, 0.2 + count * 0.1);
            calendarDay.style.backgroundColor = `rgba(200, 255, 115, ${opacity})`;

            if (isDarkMode && opacity > 0.4) {
                calendarDay.classList.add('dark-mode-black-text');
            } else {
                calendarDay.classList.remove('dark-mode-black-text');
            }
        }
    }
};

loadCalendar();
</script>






          
      
      
      <a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy/" style="display:none;"></a>

      </main>
  
  
  </section>
  

  

  <footer class="opacity-6">
    <p><a href="/colophon">Colophon</a></p><p><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a></p>
  </footer>

</body>

<script src="/han.min.js" defer></script>



<script type="application/json" class="js-hypothesis-config" defer>
{
    "sideBySide": {
        "mode": "manual"
    }
}
</script>    

<script defer>
    var mainElement = document.querySelector('main');
    var contentHeader = document.querySelector('section.content-header');
    const headers = mainElement.querySelectorAll('h2, h3');
    document.addEventListener('DOMContentLoaded', function () {

        if (contentHeader) {
            contentHeader.querySelector('#show-hypo').style.display = 'flex';
        }
        
        handleScrollEvents();

        applyBreakAllClass();

        setupSidenotes();

        initializeMutationObserver();

        initializeTOCFeatures();

        preventMultiTouchGestures();

        setExternalLinksToOpenInNewTab();
    });

    function updateHHangableBehavior() {
        var sidenoteHangables = mainElement.querySelectorAll('.sidenote-number + h-hangable');
        sidenoteHangables.forEach(function (hHangable) {
            var sidenoteNumber = hHangable.previousElementSibling;
            var sidenoteBox = sidenoteNumber.querySelector('.sidenote-box');
            if (sidenoteBox) {
                sidenoteNumber.insertBefore(hHangable, sidenoteBox);
            }
        });
    }

    function initializeMutationObserver() {
        var observer = new MutationObserver(function (mutations) {
            var shouldUpdate = false;
            mutations.forEach(function (mutation) {
                mutation.addedNodes.forEach(function (node) {
                    if (node.nodeType === 1 && node.matches('h-hangable')) {
                        var previousSibling = node.previousElementSibling;
                        if (previousSibling && previousSibling.matches('.sidenote-number')) {
                            shouldUpdate = true;
                        }
                    }
                });
            });
            if (shouldUpdate) {
                setTimeout(updateHHangableBehavior, 1200);
            }
        });

        var config = { childList: true, subtree: true };
        if (mainElement) {
            observer.observe(mainElement, config);
        }
    }

    function applyBreakAllClass() {
        var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        if (screenWidth <= 960) {
            var codeElements = mainElement.querySelectorAll('code');
            codeElements.forEach(function (element) {
                if (element.textContent.length > 10) {
                    element.classList.add('break-all');
                }
            });
        }
    }

    function handleScrollEvents() {
        if (contentHeader) {
            let lastScrollTop = 0;
            let isScrolling = false;
            const addnDiv = contentHeader.querySelector('.addn');
            const topScrollBar = contentHeader.querySelector('.top-scroll-bar');

            window.addEventListener('scroll', function () {
                const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
                if (!isScrolling) {
                    window.requestAnimationFrame(function () {
                        if (topScrollBar) {
                            const scrollPercent = (currentScroll / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
                            topScrollBar.style.width = scrollPercent + '%';
                            topScrollBar.style.display = 'block';
                        }
                        if (addnDiv) {
                            if (currentScroll > lastScrollTop && currentScroll > 50) {
                                addnDiv.classList.remove('visible');
                            } else {
                                addnDiv.classList.add('visible');
                            }
                        }
                        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
            }, false);
        }
    }

    function showHypo() {
        var existingScript = document.getElementById('hypothes-script');
        var button = contentHeader.querySelector('#show-hypo');

        if (!existingScript) {
            button.textContent = 'Loading';

            var script = document.createElement('script');
            script.id = 'hypothes-script';
            script.src = 'https://hypothes.is/embed.js';

            script.onload = () => {
                button.textContent = 'Hypothes.is';
            };

            script.onerror = () => {
                button.style.color = 'red';
                button.textContent = 'Failed';
            };

            
            document.body.appendChild(script);
        } else {
            toggleHypothesisElementsVisibility();
            button.style.color = 'var(--text-color)';
        }
    }

    function toggleHypothesisElementsVisibility() {
        const elementsToToggle = [
            'hypothesis-sidebar',
            'hypothesis-notebook',
            'hypothesis-profile',
            'hypothesis-adder',
            'hypothesis-highlight-cluster-toolbar'
        ];

        elementsToToggle.forEach(function (element) {
            var el = document.querySelector(element);
            if (el) {
                if (el.style.display === 'none') {
                    el.style.display = '';
                } else {
                    el.style.display = 'none';
                }
            }
        });
    }


    function initializeTOCFeatures() {
        if (contentHeader) {
            const contentsFixedDiv = contentHeader.querySelector('#contents-fixed');
            const tocContainer = contentHeader.querySelector('#contents-toc');
            if (contentsFixedDiv && headers.length > 1) {
                contentsFixedDiv.style.display = 'flex';
                contentsFixedDiv.addEventListener('click', (event) => {
                    toggleTOC();
                    event.stopPropagation();
                });
            }
            if (tocContainer && !tocContainer.dataset.initialized) {
                const throttledHighlight = throttle(highlightAppropriateHeader, 250);
                window.addEventListener('scroll', throttledHighlight);
                tocContainer.dataset.initialized = 'true';
            }
        }
    }

    function highlightAppropriateHeader() {
        let highlightedHeader = null;
        let foundHeaderInView = false;

        
        for (let i = 0; i < headers.length; i++) {
            const header = headers[i];
            const bounding = header.getBoundingClientRect();

            if (bounding.top >= 0 && bounding.bottom <= window.innerHeight) {
                highlightedHeader = header; 
                foundHeaderInView = true;
                break;
            }
        }

        
        if (!foundHeaderInView) {
            for (let i = 0; i < headers.length; i++) {
                const header = headers[i];
                let nextHeader = headers[i + 1];
                let endOfSection = nextHeader ? nextHeader.getBoundingClientRect().top : Infinity;

                const startOfSection = header.getBoundingClientRect().bottom;

                if (startOfSection < window.innerHeight && endOfSection > 0) {
                    highlightedHeader = header;
                    break;
                }
            }
        }

        
        contentHeader.querySelectorAll('nav#TableOfContents a').forEach(link => {
            link.classList.remove('toc-highlight');
        });

        
        if (highlightedHeader) {
            const link = contentHeader.querySelector(`nav#TableOfContents a[href="#${highlightedHeader.id}"]`);
            if (link) {
                link.classList.add('toc-highlight');
            }
        }
    }

    function toggleTOC() {
        const tocContainer = contentHeader.querySelector('#contents-toc');
        const isDisplayed = window.getComputedStyle(tocContainer).display !== 'none';
        tocContainer.style.display = isDisplayed ? 'none' : 'flex';
    }


    function throttle(func, limit) {
        let lastFunc;
        let lastRan;
        return function () {
            const context = this;
            const args = arguments;
            if (!lastRan) {
                func.apply(context, args);
                lastRan = Date.now();
            } else {
                clearTimeout(lastFunc);
                lastFunc = setTimeout(function () {
                    if ((Date.now() - lastRan) >= limit) {
                        func.apply(context, args);
                        lastRan = Date.now();
                    }
                }, limit - (Date.now() - lastRan));
            }
        }
    }

    function setExternalLinksToOpenInNewTab() {
        const links = document.querySelectorAll('.e-content a[href*="//"]:not(.stream-url)');
        links.forEach(function (link) {
            link.setAttribute('target', '_blank');
        });
    }

    function setupSidenotes() {
        if (mainElement.querySelectorAll('.sidenote-number').length >= 3 && window.innerWidth >= 1000) {
            const sidenoteLine = mainElement.querySelectorAll('.sidenote-line');

            sidenoteLine.forEach(element => {
                element.style.border = 'none';
            });

            var jQueryScript = document.createElement('script');
            jQueryScript.src = '/jquery-3.6.0.min.js';
            document.head.appendChild(jQueryScript);

            jQueryScript.onload = function () {
                var jsPlumbScript = document.createElement('script');
                jsPlumbScript.src = '/jsplumb.min.js';
                document.head.appendChild(jsPlumbScript);

                jsPlumbScript.onload = function () {
                    initJsPlumb();
                };
            };
        }
    }

    function initJsPlumb() {
        var jsPlumbCSS = document.createElement('link');
        jsPlumbCSS.href = '/jsplumbtoolkit-defaults.min.css';
        jsPlumbCSS.rel = 'stylesheet';
        document.head.appendChild(jsPlumbCSS);

        jQuery(document).ready(function () {
            jsPlumb.importDefaults({
                ConnectionsDetachable: false,
                ReattachConnections: false,
                Endpoint: "Blank",
                Connector: ["Straight"],
                PaintStyle: { stroke: "var(--text-color)", strokeWidth: 1 }
            });

            createConnections();
            var resizeObserver = new ResizeObserver(function () {
                createConnections();
            });
            resizeObserver.observe(document.body);
        });
    }

    function createConnections() {
        jsPlumb.deleteEveryEndpoint();
        jQuery('.sidenote-number').each(function () {
            var sidenoteNumber = jQuery(this);
            var sidenote = sidenoteNumber.find('.sidenote');

            if (sidenote.length) {
                jsPlumb.connect({
                    source: sidenoteNumber[0],
                    target: sidenote[0],
                    anchors: ["Center", "RightMiddle"],
                    cssClass: "jsplumb-line"
                });
            }
        });
    }


    function preventMultiTouchGestures() {
        window.onload = function () {
            document.addEventListener('touchstart', function (event) {
                if (event.touches.length > 1) {
                    event.preventDefault();
                }
            }, false);
            var lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                var now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            document.addEventListener('gesturestart', function (event) {
                event.preventDefault();
            }, false);
        }
    }
</script>







</html>